{"version":3,"file":"abstractModel.js","sources":["js/model/abstractModel.js"],"sourcesContent":["class AbstractAdapter {\n  toServer() {\n    throw Error(`Abstract method. Define toServer method`);\n  }\n}\n\nconst defaultAdapter = new class extends AbstractAdapter {\n  toServer(data) {\n    return JSON.stringify(data);\n  }\n}();\n\nclass AbstractModel {\n  get urlRead() {\n    throw new Error(`You have to define urlRead`);\n  }\n\n  get urlWrite() {\n    throw new Error(`You have to define urlWrite`);\n  }\n\n  get initialState() {\n    throw new Error(`You have to define initialState`);\n  }\n\n  load() {\n    return fetch(this.urlRead)\n        .then((response) => response.json())\n        .catch((error) => console.error(error));\n  }\n\n  save(data, adapter = defaultAdapter) {\n    return fetch(this.urlWrite, {\n      method: `POST`,\n      body: adapter.toServer(data),\n      headers: {\n        'Content-Type': `application/json`\n      }\n    });\n  }\n}\n\nexport default AbstractModel;\n"],"names":[],"mappings":";;;AAAA,MAAM,eAAe,CAAC;EACpB,QAAQ,GAAG;IACT,MAAM,KAAK,CAAC,CAAC,uCAAuC,CAAC,CAAC,CAAC;GACxD;CACF;;AAED,MAAM,cAAc,GAAG,IAAI,cAAc,eAAe,CAAC;EACvD,QAAQ,CAAC,IAAI,EAAE;IACb,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;GAC7B;CACF,EAAE,CAAC;;AAEJ,MAAM,aAAa,CAAC;EAClB,IAAI,OAAO,GAAG;IACZ,MAAM,IAAI,KAAK,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC;GAC/C;;EAED,IAAI,QAAQ,GAAG;IACb,MAAM,IAAI,KAAK,CAAC,CAAC,2BAA2B,CAAC,CAAC,CAAC;GAChD;;EAED,IAAI,YAAY,GAAG;IACjB,MAAM,IAAI,KAAK,CAAC,CAAC,+BAA+B,CAAC,CAAC,CAAC;GACpD;;EAED,IAAI,GAAG;IACL,OAAO,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;SACrB,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,IAAI,EAAE,CAAC;SACnC,KAAK,CAAC,CAAC,KAAK,KAAK,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;GAC7C;;EAED,IAAI,CAAC,IAAI,EAAE,OAAO,GAAG,cAAc,EAAE;IACnC,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE;MAC1B,MAAM,EAAE,CAAC,IAAI,CAAC;MACd,IAAI,EAAE,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC;MAC5B,OAAO,EAAE;QACP,cAAc,EAAE,CAAC,gBAAgB,CAAC;OACnC;KACF,CAAC,CAAC;GACJ;CACF;;;;;;;;"}